
# 概述與原則

## 1. 概述

依賴注入（Dependency Injection，簡稱 DI）是一種重要的設計模式，其核心理念在於將對象間的依賴關係交由外部系統管理，而非由對象自身進行直接控制。此模式旨在提升代碼的靈活性與可維護性，並促進高效的資源管理。

### 依賴注入的主要優勢
1. **解耦性**：有效降低模塊間的耦合，從而使系統更易於擴展與維護。
2. **靈活性**：支持依賴替換，例如在測試環境中使用 Mock 對象以模擬行為。
3. **可測試性**：依賴注入使單元測試更加高效，開發者可以輕鬆隔離依賴進行測試。
4. **集中化資源管理**：通過外部系統統一管理資源的初始化與銷毀，避免資源泄漏及重複分配。

### 應用場景
依賴注入在以下場景中具有廣泛應用：
- **認證與授權**：實現靈活的身份驗證與權限管理。
- **數據庫連接管理**：通過注入的方式優化連接池使用。
- **外部 API 集成**：簡化外部服務的調用與替換。
- **系統配置管理**：支持動態注入配置參數。

---

## 2. 核心原則（dependency-injection/principles.md）

依賴注入的設計基於以下核心原則：

- **控制反轉（Inversion of Control, IoC）**: 控制反轉是一種設計思想，指將系統中依賴的控制權交由外部框架或容器管理。此原則使模塊能專注於自身的業務邏輯，而不需要直接處理依賴的實例化或生命周期管理。
- **依賴於抽象**: 依賴注入倡導對象應依賴於抽象（如接口或基類），而非具體的實現。這種設計方式避免了因具體依賴的改變而引發的代碼重構問題，並提升系統的靈活性。
- **單一責任原則（Single Responsibility Principle, SRP）**: 每個模塊應專注於自身的單一職責，避免因依賴管理而增加額外的複雜性。依賴注入能有效分離依賴的管理責任，從而保持模塊的簡潔性。
- **可測試性**: 依賴注入提供了一種有效的測試策略，允許開發者在測試環境中替換真實依賴為 Mock 或 Stub，從而實現高效的單元測試。
- **集中化資源管理**: 依賴注入能集中管理資源的初始化與銷毀，避免資源泄漏或重複初始化，從而提升系統的可靠性與性能。
